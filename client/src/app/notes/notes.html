<div class="container">

  <header>
    <h1>Welcome, {{ currentUser?.username }} ({{ currentUser?.role }})</h1>
    <button (click)="logout()" class="logout-btn">Logout</button>
  </header>

  <div *ngIf="currentUser?.role === 'teacher'" class="add-note-box">

    <h3>{{ editingId ? 'Edit Note' : 'Add New Note' }}</h3>

    <input [(ngModel)]="noteData.title" placeholder="Title" />
    <textarea [(ngModel)]="noteData.content" placeholder="Content"></textarea>

    <label>
      <input type="checkbox" [(ngModel)]="noteData.isShared" />
      Share with Students?
    </label>

    <button (click)="submitNote()">
      {{ editingId ? 'Update Note' : 'Post Note' }}
    </button>

  </div>

  <div class="notes-list">

    <div *ngFor="let note of notes" class="note-card">

      <h3>{{ note.title }}</h3>
      <p>{{ note.content }}</p>

      <small>
        By: {{ note.createdBy }} |
        {{ note.isShared ? 'Shared' : 'Private' }}
      </small>

      <div *ngIf="currentUser?.role === 'teacher'">
        <button (click)="startEditing(note)">Edit</button>
        <button (click)="deleteNote(note._id)">Delete</button>
      </div>

    </div>

  </div>

</div>
